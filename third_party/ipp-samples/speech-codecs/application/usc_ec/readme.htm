<html>

<head>
    <title>
    Intel&reg; IPP Samples -
    USC Echo Canceller (EC) Sample for Windows*
    </title>
</head>

<body>


<h1 align="center">
    Intel<sup>&reg;</sup> Integrated Performance Primitives
    <br>
    USC Echo Canceller (EC) Sample for Windows*
</h1>

<p>
<b>
<a href="#IPP_SAMPLES__Disclaimer">                             Disclaimer                             </a><br />
<a href="#IPP_SAMPLES__License_Definitions">                    License Definitions                    </a><br />
<a href="#IPP_SAMPLES__Overview">                               Overview                               </a><br />
<a href="#IPP_SAMPLES__How_to_Build_Source_Code">               How to Build Source Code               </a><br />
<a href="#IPP_SAMPLES__Running_the_Sample">                     Running the Sample                     </a><br />
</b>
</p>


<h2>
<a name=IPP_SAMPLES__Disclaimer>
Disclaimer</a>
</h2>

<p class=MsoNormal>
<span lang=EN-US style='font-size:10.0pt; color:windowtext;'>
INFORMATION IN THIS DOCUMENT IS PROVIDED IN CONNECTION WITH INTEL   
<sup>
&reg;  
</sup>
PRODUCTS. NO LICENSE, EXPRESS OR IMPLIED, BY ESTOPPEL OR OTHERWISE, TO ANY INTELLECTUAL PROPERTY RIGHTS IS GRANTED BY THIS DOCUMENT. EXCEPT AS PROVIDED IN INTEL'S TERMS AND CONDITIONS OF SALE FOR SUCH PRODUCTS, INTEL ASSUMES NO LIABILITY WHATSOEVER, AND INTEL DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTY, RELATING TO SALE AND/OR USE OF INTEL PRODUCTS INCLUDING LIABILITY OR WARRANTIES RELATING TO FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABILITY, OR INFRINGEMENT OF ANY PATENT, COPYRIGHT OR OTHER INTELLECTUAL PROPERTY RIGHT.   
</span>
</p>
<p>
<span lang=EN-US>
Intel products are not intended for use in medical, life saving, life sustaining, critical control or safety systems, or in nuclear facility applications. Intel may make changes to specifications and product descriptions at anytime, without notice.   
</span>
</p>


<h2>
<a name="IPP_SAMPLES__License_Definitions">
License Definitions</a>
</h2>

<p>
<span lang=EN-US>
By downloading and installing this sample, you hereby agree that the accompanying Materials are being provided to you under the terms and conditions of the End User License Agreement for the Intel   
<sup>
&reg;  
</sup>
Integrated Performance Primitives product previously accepted by you. Please refer to the file   
<b>
ippEULA.rtf or ippEULA.txt   
</b>
for more information.   
</span>
</p>
<p>The<font size="3"> G.167, G.168-2004, P.330, P.340 specifications </font>
are international standards promoted by ITU (  
<a href="http://www.itu.int">
http://www.itu.int  
</a>
). Implementations of these standards, or the standard enabled platforms may require licenses from various entities, including Intel Corporation.  
</p>


<h2>
<a name=IPP_SAMPLES__Overview>
Overview</a>
</h2>

<p>
<span lang=EN-US>
The USC Echo Canceller sample is a command line based application that performs echo cancellation. The EC sample processes two input files and creates one output PCM file either narrow band 16bit 8000 Hz or wideband 16bit 16000 Hz. The receive-in and send-in samples are processed to perform echo path parameters estimation and estimated echo is subtracted from the send-in samples and &quot;echo-free&quot; PCM data is written to send-out output file.   
</span>
</p>
<p>
<span lang=EN-US>
The sample implements three algorithms:   
</span>
</p>
<p style='margin-left:.5in;text-indent:-.25in;'>
<span lang="EN-US">
1.   
<span style='font:7.0pt "Times New Roman"'>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   
</span>
</span>
<span class=SpellE>
<span lang=EN-US>
Fullband   
</span>
</span>
<span lang=EN-US>
algorithm  - processing in time domain,   
</span>
</p>
<p style='margin-left:.5in;text-indent:-.25in;'>
<span lang="EN-US">
2.   
<span style='font:7.0pt "Times New Roman"'>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   
</span>
</span>
<span class=SpellE>
<span lang=EN-US>
Subband   
</span>
</span>
<span lang=EN-US>
algorithm &#8211; processing in the frequency domain,   
</span>
</p>
<p style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo2; tab-stops:list .5in'>
<![if !supportLists]>
<span style='mso-list:Ignore; mso-ansi-language:EN-US' lang="EN-US">
3.   
<span style='font:7.0pt "Times New Roman"'>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   
</span>
</span>
<![endif]>
<span class=SpellE>
<span lang=EN-US style='mso-ansi-language:EN-US'>
Subband   
</span>
</span>
<span lang=EN-US style='mso-ansi-language:EN-US'>
-Fast algorithm &#8211; fast processing in the frequency domain. The   
<span class=SpellE>
Subband   
</span>
-Fast algorithm introduces 6ms delay for 8kHz and 3 ms   
</span>
<span lang=EN-US style='mso-ansi-language:EN-US'>
delay   
</span>
<span lang=EN-US style='mso-ansi-language:EN-US'>
for 16kHz into the output signal.   
</span>
</p>
<p><span lang=EN-US>The USC Echo Canceller software module is suitable for building an echo cancellation device 
(&quot;digital terminals&quot;) compliant with 
</span><font size="3">ITU-T G.167, G.168-2004, P.330, P.340 </font>
<span lang=EN-US>specifications. It is supposed that conformance testing is 
to&nbsp;be performed by&nbsp;the device/application producers, who&nbsp;are the only instance 
where all factors may be combined to build such a device. IPP&nbsp;releases software 
module only and does not perform &quot;on-device&quot; testing, instead the specified 
testing&nbsp; methodology is simulated in software tests. Neither software nor 
results of said tests are released.</span><p class=MsoNormal>
</p>


<h2>
<a name="IPP_SAMPLES__How_to_Build_Source_Code">
How to Build Source Code</a>
</h2>

<h3>
Build target by Microsoft Visual Studio
</h3>
<ul>
    <li>Set system environment variable <tt><b>IPPROOT</b></tt></li>
    <li>Open solution/project file in related Visual Studio</li>
    <li>Select configuration/platform you need</li>
    <li>Build all projects in Visual Studio</li>
</ul>


<h2>
<a name="IPP_SAMPLES__Running_the_Sample">
Running the Sample</a>
</h2>

<p>
<span lang=EN-US>
For information on building the sample, see the   
<span class=SpellE>
readme   
</span>
file in the   
<span class=SpellE>
ipp_samples   
</span>
\speech-codecs directory.   
</span>
</p>
<p>
<span lang=EN-US>
In order to run the executable created by this sample, the Intel&reg;IPP DLLs must be on the system's path. DLLs are located in the bin subdirectory of the root directory of the Intel&reg;IPP installation (IPPROOT). This can be done by setting the PATH environment variable manually or invoking the batch file: &quot;%IPPROOT%\tools\   
<span class=SpellE>
env\ippenv.bat   
</span>
&quot; from the Intel&reg;IPP installation.   
</span>
</p>
<p>
<span lang=EN-US>
To run the USC EC sample, type:&nbsp;   
</span>
</p>
<p>
<span lang=EN-US>
usc_ec.exe   
</span>
<span lang=EN-US style='color:windowtext;'>
[options] &lt;r<span class=SpellE>in-PCMFile   
</span>
&gt; &lt;s<span class=SpellE>in-PCMFile   
</span>
&gt; &lt;s<span class=SpellE>out-PCMFile   
</span>
&gt;   
</span>
</p>
<p>
<span lang=EN-US>
Option list:&nbsp;   
</span>
</p>
<p style='margin-top:2.25pt;margin-right:0in;margin-bottom:2.25pt;margin-left: 0in'>
<span lang=EN-US>[-f &lt;frequency&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Set 
the sampling frequency, kHz: 8 or 16. Default 8.<br>
[-a &lt;algorithm&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Algorithm specifier: 
fb (fullband), sb (subband type 1) or sbf (subband type 2). Default sb.<br>
[-ad &lt;algorithm&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Adaptation specifier: full or 
lite. Default full.<br>
[-ah &lt;mode&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Set the anti-howling device mode:1 - on (cos shift up. Exclude sb modes). 0 - 
off. 0 as default.<br>
[-l &lt;num&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Set the echo tail length, ms: in the range [1, 200].<br>
[-delay &lt;val&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Set the delay in send-in PCM file, integer number of milliseconds. Leading end 
of send-in PCM will be cut off prior to echo cancel. Default: no delay.<br>
[-s &lt;num&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Set the number of times file to be processed (optional).<br>
[-c &lt;csv filename&gt;]&nbsp;&nbsp;&nbsp;&nbsp; Enable the performance data output 
to the csv file. If repeat is specified (-s option) the last result only will be 
written into the output file<br>
[-o &lt;log filename&gt;]&nbsp;&nbsp;&nbsp; Enable output to the log file.<br>
[-list]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Print out the modes list, and stop.<br>
[-sys]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Print out system information.<br>
[-ap &lt;val&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Set the affine projection order, 1 or 4 recommended, sbf only. 1 is default<br>
[-nlp &lt;num&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0- Set NLP off. 1- NLP type actual for all modes,default. 2- NLP type actual for 
sbf only. 3- 1+2 combined. Actual for sbf only.<br>
[-nr &lt;num&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Set Noise Reduction level, 0 - without NR. 1- Low, 2- Medium, 3- Normal, 4- 
High, default, 5- Auto. Basically, the bigger number the higher level of NR.<br>
[-m &lt;num&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0-Set NR smoothing off, default. 1- static type of smoothing with constant 
filter applied. 2- dynamic type of smoothing with changing filters applied.<br>
[-cng &lt;num&gt;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0-Set 
CNG off, otherwise CNG is ON, if NLP is ON. 1- CNG type actual for all modes, 
default. 2- CNG type actual for sbf with -nlp 2 only).<br>
[-dc]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Set DC offset compensation ON, default is OFF.<br>
[-tdno]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Switch OFF the G168 Tone disabler, default is ON </span></p>
<p style='margin-top:2.25pt;margin-right:0in;margin-bottom:2.25pt;margin-left: 0in'>
<span lang=EN-US>
&lt;r<span class=SpellE>in-PCMFile   
</span>
&gt;&nbsp;&nbsp;&nbsp; Input file contains receive-in 16-bit PCM signal.   
</span>
</p>
<p style='margin-top:2.25pt;margin-right:0in;margin-bottom:2.25pt;margin-left: 0in'>
<span lang=EN-US>
&lt;s<span class=SpellE>in-PCMFile   
</span>
&gt;&nbsp;&nbsp;&nbsp; Input file contains send-in 16-bit PCM signal.   
</span>
</p>
<p style='margin-top:2.25pt;margin-right:0in;margin-bottom:2.25pt;margin-left: 0in'>
<span lang=EN-US>
&lt;s<span class=SpellE>out-PCMFile   
</span>
&gt; Output file contains send-out 16-bit PCM signal.   
</span>
</p>
<p>
<a name=Support>
</a>
<span lang=EN-US style='font-size:7.5pt;'>
Intel, the Intel logo, Intel SpeedStep, Intel NetBurst, Intel NetStructure, MMX, Intel386, Intel486, Celeron, Intel Centrino, Intel Xeon, Intel XScale, Itanium, Pentium, Pentium II Xeon, Pentium III Xeon, Pentium M, and VTune are trademarks or registered trademarks of Intel Corporation or its subsidiaries in the United States and other countries.   
<br>
<br>
* Other names and brands may be claimed as the property of others.   
<br>
<br>
</span>
</p>

<DIV id=IPP_Copyright>
Copyright &copy; 2002-2009, Intel Corporation. All rights reserved.
</DIV>

</body>
</html>
